#include <stdbool.h>
#include <time.h>
#include <unistd.h>

#include "hs12864.h"
//#include "gpio.h"
#include "spi_driver.h"


const char *device = "/dev/spidev0.1";


unsigned char IC_DAT [] = {"RSGRID"};

/*
unsigned char pic2[]={
0X00,0X7F,0X7F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X01,0XFF,0X7F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X03,0XFF,0X7F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X03,0X80,0X00,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0X3F,0X7E,0X70,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0X60,0X03,0X70,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X0E,0XC0,0X01,0XB8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X04,0X80,0X00,0X90,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X01,0X80,0X00,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X38,0X1F,0XF8,0X0E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X3A,0X1F,0XFC,0X2E,0X0F,0XF1,0XFC,0X70,0XF0,0XF0,0XFF,0X38,0XE7,0XF9,0XC0,0XFF,
0X76,0X1C,0X1C,0X37,0X0F,0XF3,0XFE,0X78,0XF0,0XF0,0XFF,0X38,0XEF,0XF9,0XC0,0XFF,
0X74,0X1C,0X1C,0X17,0X0C,0X3B,0X0E,0X78,0XF0,0XF1,0XC0,0X3C,0XEE,0X1D,0XC0,0XE0,
0XEC,0X1C,0X1C,0X1B,0X8C,0X3B,0X06,0X79,0XF1,0XF9,0XC0,0X3E,0XEE,0X1D,0XC0,0XE0,
0XEC,0X1C,0X1C,0X1B,0X8C,0X3B,0X06,0X7D,0XF1,0X99,0XCF,0X36,0XEE,0X1D,0XC0,0XFE,
0XEC,0X1F,0XFC,0X1B,0X8F,0XF3,0X06,0X6D,0XF3,0X99,0XCF,0X37,0XEE,0X1D,0XC0,0XFE,
0XEC,0X1F,0XF8,0X1B,0X8F,0XF3,0X06,0X6F,0X73,0XFD,0XC3,0X33,0XEE,0X1D,0XC0,0XE0,
0X74,0X1D,0XF0,0X17,0X0C,0XE3,0X06,0X6F,0X73,0XFD,0XC3,0X31,0XEE,0X1D,0XC0,0XE0,
0X76,0X1C,0X78,0X37,0X0C,0X73,0XFE,0X67,0X77,0X0E,0XFF,0X31,0XEF,0XF9,0XFE,0XFF,
0X3A,0X1C,0X38,0X2E,0X0C,0X33,0XFC,0X67,0X77,0X0E,0XFF,0X30,0XE7,0XF9,0XFE,0XFF,
0X38,0X1C,0X1C,0X0E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X01,0X80,0X00,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X04,0X80,0X00,0X90,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X0E,0XC0,0X01,0XB8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0X60,0X03,0X70,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0X3F,0X7E,0X70,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X03,0X80,0X00,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X03,0XFE,0X7F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X01,0XFF,0X7F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X7F,0X7F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
};
*/

unsigned char pic2[]={

0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XC0,0X00,0X00,0X00,
0X00,0X00,0X03,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XE0,0X00,0X00,0X00,
0X00,0X00,0X07,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0XFF,0XE0,0X00,0X00,0X00,
0X1F,0XE0,0X07,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XF0,0X00,0X00,0X00,
0X1F,0XE0,0X0F,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XF8,0X00,0X00,0X00,
0X0F,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XF8,0X00,0X00,0X00,
0X07,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XFF,0XF8,0X00,0X00,0X00,
0X07,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0X03,0X1C,0X78,0X00,0X00,0X00,
0X07,0X80,0X0F,0X8F,0XFF,0XE0,0X00,0X01,0XFC,0X7F,0X03,0X1C,0X78,0X00,0X00,0X00,
0X07,0X80,0X0F,0X8F,0XFF,0XE3,0XF0,0X79,0XFC,0X7E,0X03,0X1C,0X78,0X00,0X00,0X00,
0X07,0X80,0X0F,0X8F,0XFF,0XE3,0XF0,0X78,0X7C,0X78,0X03,0XFF,0XF8,0X00,0X00,0X00,
0X07,0X80,0X07,0X03,0XC3,0XE0,0XF0,0X78,0X7C,0X70,0X03,0XFF,0XF8,0X00,0X00,0X00,
0X07,0X80,0X07,0X03,0XC1,0XE0,0XF0,0X78,0X7C,0X60,0X03,0XFF,0XFC,0X00,0X00,0X00,
0X07,0X80,0X07,0X03,0XC1,0XE0,0XF0,0X78,0X07,0XC0,0X03,0XFF,0XFC,0X00,0X00,0X00,
0X07,0X80,0X07,0X03,0X81,0XE0,0XF0,0X78,0X07,0XC0,0X03,0XFF,0XFC,0X00,0X00,0X00,
0X07,0X80,0X07,0X03,0X81,0XE0,0XF0,0X78,0X07,0XC0,0X03,0XFF,0XFE,0X00,0X00,0X00,
0X07,0X80,0X07,0X03,0X81,0XE0,0XF0,0X78,0X07,0XC0,0X03,0XFF,0X3E,0X00,0X00,0X00,
0X07,0X81,0XC7,0X03,0X81,0XE0,0XF0,0X78,0X07,0XC0,0X1F,0XFC,0X1F,0X00,0X00,0X00,
0X07,0X81,0XC7,0X03,0X81,0XE0,0XF0,0X78,0X7F,0XF0,0X0E,0X38,0X1F,0X00,0X00,0X00,
0X07,0X81,0XC7,0X03,0X81,0XE0,0XF0,0X78,0X78,0X70,0X0C,0X00,0X1F,0XC0,0X00,0X00,
0X07,0X81,0XC7,0X07,0X83,0XE0,0XFF,0XF8,0X70,0X78,0X1C,0X00,0X1F,0XC0,0X00,0X00,
0X3F,0XFF,0XCF,0X87,0XE3,0XF0,0XFF,0XF9,0XF0,0X7F,0X1C,0X00,0X1F,0XC0,0X00,0X00,
0X3F,0XFF,0XDF,0XCF,0XE3,0XFC,0XFF,0XF9,0XF0,0X7F,0X3C,0X00,0X1F,0XF0,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X78,0X00,0X1F,0XF8,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF8,0X00,0X07,0XF8,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X04,0X8F,0XE4,0X70,0X00,0X03,0XFC,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0X70,0X00,0X03,0XFC,0X00,0X00,
0X00,0X00,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X03,0XFC,0X00,0X00,
0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X01,0XFE,0X00,0X00,
0X00,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XED,0XE0,0X00,0X01,0XFC,0X00,0X00,
0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X01,0XE0,0X00,0X01,0XFC,0X00,0X00,
0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X01,0XE0,0X00,0X01,0XFC,0X00,0X00,
0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X00,0X01,0XE0,0X00,0X03,0XFC,0X00,0X00,
0X3F,0XFF,0XFF,0XFF,0XFF,0XF8,0X00,0X00,0X00,0X07,0XE0,0X00,0X0F,0XFC,0X00,0X00,
0X3F,0XFF,0XFF,0XFF,0XFE,0X00,0X00,0X00,0X00,0X03,0XF0,0X00,0X0F,0XFC,0X00,0X00,
0X3F,0XFF,0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X0F,0XF8,0X00,0X1F,0XFC,0X00,0X00,
0X3F,0XFF,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X7F,0XF8,0X00,0X1F,0XFE,0X00,0X00,
0X3F,0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFC,0X00,0X1F,0XFE,0X00,0X00,
0X3F,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFC,0X00,0X1F,0XFF,0X80,0X00,
0X3F,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFE,0X00,0X1F,0XFF,0X80,0X00,
0X3F,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFF,0X00,0X7F,0XFF,0XC0,0X00,
0X3F,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFF,0X00,0X7F,0XFF,0X80,0X00,
0X1F,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFE,0X00,0X00,
0X1E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XF8,0X00,0X00,
0X1C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X17,0XFF,0XFF,0XFF,0XF0,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0XFF,0XC0,0X1F,0XE0,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0X80,0X2F,0X80,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,

};


int main(int arc, char **argv){
/*
export_gpio(CS);

sleep(1);

export_gpio(SID);

sleep(1);

export_gpio(SCLK);

sleep(1);

direction_gpio(CS, OUTPUT);

sleep(1);

direction_gpio(SID, OUTPUT);

sleep(1);

direction_gpio(SCLK, OUTPUT);

value_gpio(CS,HIGH);
*/
config_spi(device);
sleep(1);
delayMicroseconds(10);
//initinal();


while(true)
{
initina2();
DisplayGraphic(pic2,sizeof(pic2));  //show Graphic 
sleep(2);
initinal();
delayMicroseconds(100);
lcd_mesg(IC_DAT,sizeof(IC_DAT));
sleep(2);

}



return 0;


}
